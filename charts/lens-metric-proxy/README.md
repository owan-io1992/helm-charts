# lens-metric-proxy

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: stable](https://img.shields.io/badge/AppVersion-stable-informational?style=flat-square)

this chart help create a proxy for [lens](https://k8slens.dev) query external metric data source 
it's helpful when you have self-managed prometeus  
lens config  
PROMETHEUS: Helm  
PROMETHEUS SERVICE ADDRESS: lens-metric/lens-metric-proxy:80  

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| config.nginx_conf | string | `"user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\" \"$request_body\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n"` |  |
| config.prometheus_conf_template | string | `"server {\n    listen 80 default_server;\n\n    proxy_connect_timeout       300;\n    proxy_send_timeout          300;\n    proxy_read_timeout          300;\n    send_timeout                300;\n    resolver 1.1.1.1;\n    location /health {\n        return 200;\n    }\n    location / {\n        proxy_pass http://$MIMIR_HOST/prometheus$request_uri;\n        # proxy_set_header X-Scope-OrgID \"$MIMIR_TENANT\";\n    }\n\n}\n"` |  |
| env[0].name | string | `"PROMETHEUS_HOST"` |  |
| env[0].value | string | `""` |  |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"nginx"` |  |
| image.tag | string | `""` |  |
| imagePullSecrets | list | `[]` |  |
| livenessProbe.httpGet.path | string | `"/health"` |  |
| livenessProbe.httpGet.port | string | `"http"` |  |
| nameOverride | string | `""` |  |
| nodeSelector | object | `{}` |  |
| podAnnotations | object | `{}` |  |
| podLabels | object | `{}` |  |
| podSecurityContext | object | `{}` |  |
| readinessProbe.httpGet.path | string | `"/health"` |  |
| readinessProbe.httpGet.port | string | `"http"` |  |
| replicaCount | int | `1` |  |
| resources | object | `{}` |  |
| securityContext | object | `{}` |  |
| service.port | int | `80` |  |
| service.type | string | `"ClusterIP"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.automount | bool | `true` |  |
| serviceAccount.create | bool | `false` |  |
| serviceAccount.name | string | `""` |  |
| tolerations | list | `[]` |  |
| volumeMounts[0].mountPath | string | `"/etc/nginx/nginx.conf"` |  |
| volumeMounts[0].name | string | `"config"` |  |
| volumeMounts[0].subPath | string | `"nginx.conf"` |  |
| volumeMounts[1].mountPath | string | `"/etc/nginx/templates/prometheus.conf.template"` |  |
| volumeMounts[1].name | string | `"config"` |  |
| volumeMounts[1].subPath | string | `"prometheus.conf.template"` |  |
| volumes[0].configMap.name | string | `"{{ include \"lens-metric-proxy.fullname\" . }}"` |  |
| volumes[0].name | string | `"config"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
